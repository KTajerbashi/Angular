<div class="app-container">
  <div class="app-container-content">
    <div class="app-alert app-alert-danger">Create User Form</div>
    <form>
      <mat-card>
        <mat-card-content>
          <form
            class="app-form-create-user"
            [formGroup]="userForm"
            (ngSubmit)="onSubmit()"
          >
            <div class="app-form-control">
              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Name</mat-label>
                  <input
                    matInput
                    formControlName="name"
                    placeholder="Enter name"
                  />
                  <mat-error *ngIf="userForm.get('name')?.hasError('required')">
                    Name is required
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('name')?.hasError('minlength')"
                  >
                    Minimum 5 characters required
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Family</mat-label>
                  <input
                    matInput
                    formControlName="family"
                    placeholder="Enter Family ..."
                  />
                  <mat-error
                    *ngIf="userForm.get('family')?.hasError('required')"
                  >
                    Family name is required
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('family')?.hasError('minlength')"
                  >
                    Minimum 5 characters required
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Email</mat-label>
                  <input
                    matInput
                    formControlName="email"
                    placeholder="Enter Email ..."
                  />
                  <mat-error
                    *ngIf="userForm.get('email')?.hasError('required')"
                  >
                    Email is required
                  </mat-error>
                  <mat-error *ngIf="userForm.get('email')?.hasError('email')">
                    Enter a valid email
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Phone Number</mat-label>
                  <input
                    matInput
                    formControlName="phoneNumber"
                    placeholder="Enter Phone Number ..."
                  />
                  <mat-error
                    *ngIf="userForm.get('phoneNumber')?.hasError('required')"
                  >
                    Phone number is required
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('phoneNumber')?.hasError('minlength')"
                  >
                    Minimum 5 characters required
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field>
                  <mat-label>Role</mat-label>
                  <mat-select formControlName="roleId">
                    @for (role of roles; track role) {
                    <mat-option [value]="role.id">{{ role.name }}</mat-option>
                    }
                  </mat-select>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Is Active</mat-label>
                  <mat-select formControlName="isActive">
                    <mat-option [value]="true">Active</mat-option>
                    <mat-option [value]="false">Inactive</mat-option>
                  </mat-select>
                  <mat-error
                    *ngIf="userForm.get('isActive')?.hasError('required')"
                  >
                    Status is required
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Username</mat-label>
                  <input
                    matInput
                    formControlName="username"
                    placeholder="Enter username"
                  />
                  <mat-error
                    *ngIf="userForm.get('username')?.hasError('required')"
                  >
                    Username is required
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('username')?.hasError('minlength')"
                  >
                    Minimum 5 characters required
                  </mat-error>
                </mat-form-field>
              </div>

              <div>
                <mat-form-field appearance="fill">
                  <mat-label>Password</mat-label>
                  <input
                    matInput
                    formControlName="password"
                    type="password"
                    placeholder="Enter Password ..."
                  />
                  <mat-error
                    *ngIf="userForm.get('password')?.hasError('required')"
                  >
                    Password is required
                  </mat-error>
                  <mat-error
                    *ngIf="userForm.get('password')?.hasError('minlength')"
                  >
                    Minimum 5 characters required
                  </mat-error>
                </mat-form-field>
              </div>
            </div>

            <div>
              <button
                mat-raised-button
                color="primary"
                type="submit"
                [disabled]="!userForm.valid"
              >
                Submit
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </form>
  </div>
</div>
