<div class="data-table">

  @if (loading()) {
    <div class="loading">Loading...</div>
  } @else {

    <table>
      <thead>
        <tr>
          @for (col of configOptions.columns; track col.name) {
            <th>{{ col.title }}</th>
          }

          @if (configOptions.events?.length) {
            <th>Actions</th>
          }
        </tr>
      </thead>

      <tbody>
        @for (row of data(); track $index) {
          <tr>
            @for (col of configOptions.columns; track col.name) {
              <td>{{ row[col.name] }}</td>
            }

            @if (configOptions.events?.length) {
              <td class="actions">
                @for (ev of configOptions.events; track ev.name) {
                  <button class="app-btn" [ngClass]="ev.cssClass" (click)="onEvent(ev.name, row)">
                    {{ ev.label }}
                  </button>
                }
              </td>
            }
          </tr>
        }
      </tbody>
    </table>

    @if (!data().length) {
      <div class="empty">No data found</div>
    }
  }

</div>
